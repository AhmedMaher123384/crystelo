// === ุจุฏุงูุฉ ูุณู: ุชุตุฏูุฑ ุงููููู ===
import React, { useState } from 'react';
import { Plus, Minus, ChevronDown } from 'lucide-react';
import { useTranslation } from 'react-i18next';
// === ููุงูุฉ ูุณู: ุชุตุฏูุฑ ุงููููู ===

// === ุจุฏุงูุฉ ูุณู: ุงูุฃููุงุน ===
interface FAQ {
  id: number;
  question: string;
  answer: string;
}

interface FAQCategory {
  id: number;
  title: string;
  icon: string;
  faqs: FAQ[];
}
// === ููุงูุฉ ูุณู: ุงูุฃููุงุน ===

// === ุจุฏุงูุฉ ูุณู: ุงููููู ุงูุฑุฆูุณู ===
const FAQSection: React.FC = () => {
  const { t } = useTranslation();

  const [openCategory, setOpenCategory] = useState<number | null>(null);
  const [openFAQ, setOpenFAQ] = useState<number | null>(null);

  const toggleCategory = (id: number) => {
    setOpenCategory(openCategory === id ? null : id);
    if (openCategory !== id) setOpenFAQ(null);
  };

  const toggleFAQ = (id: number) => {
    setOpenFAQ(openFAQ === id ? null : id);
  };

  const faqCategories: FAQCategory[] = [
    {
      id: 1,
      title: 'ุงูุทูุจุงุช ูุงูุชูุตูู ูุงูุดุญู',
      icon: '๐',
      faqs: [
        {
          id: 1,
          question: 'ูู ูุณุชุบุฑู ุชูุตูู ุงูุทูุจุ',
          answer: 'ุฏุงุฎู ุงููุฏู ุงูุฑุฆูุณูุฉ ุนุงุฏุฉ 1โ3 ุฃูุงู ุนููุ ูุฎุงุฑุฌูุง 3โ7 ุฃูุงู. ุงูุดุญู ุงูุฏููู ูุณุชุบุฑู 7โ14 ููู ุนูู ุญุณุจ ุงููุฌูุฉ ูุดุฑูุฉ ุงูุดุญู. ููููู ุชุชุจููุน ุทูุจู ูู ุตูุญุฉ ุงูุทูุจุงุช.',
        },
        {
          id: 2,
          question: 'ูู ููุฌุฏ ุดุญู ุณุฑูุน ุฃู ูู ููุณ ุงููููุ',
          answer: 'ูููุฑ ุฎูุงุฑุงุช ุดุญู ุณุฑูุน ูู ุจุนุถ ุงููุฏู ุจุฑุณูู ุฅุถุงููุฉ. ุณุชุธูุฑ ูู ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ ุฃุซูุงุก ุฅููุงุก ุงูุฏูุน.',
        },
        {
          id: 3,
          question: 'ููู ุฃุชุชุจุน ุดุญูุชูุ',
          answer: 'ููุฑุณู ูู ุฑูู ุงูุชุชุจุน ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงููุงุชุณุงุจ ููุฑ ุดุญู ุงูุทูุจุ ูููููู ุงูุงุทูุงุน ุนููู ูู ููุญุฉ ุญุณุงุจู.',
        },
      ],
    },
    {
      id: 2,
      title: 'ุงูุงุณุชุจุฏุงู ูุงูุงุณุชุฑุฌุงุน',
      icon: '๐',
      faqs: [
        {
          id: 4,
          question: 'ูู ูููููู ุงุณุชุจุฏุงู ุฃู ุงุณุชุฑุฌุงุน ุงูุฅูุณุณูุงุฑุงุชุ',
          answer: 'ููุจู ุงูุงุณุชุจุฏุงู/ุงูุงุณุชุฑุฌุงุน ุฎูุงู 7 ุฃูุงู ูู ุงูุงุณุชูุงู ููุฅูุณุณูุงุฑุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ ูุจุญุงูุชูุง ุงูุฃุตููุฉ ูุน ุงููุงุชูุฑุฉ. ุงูููุชุฌุงุช ุงููุณุชุฎุฏูุฉ ุฃู ุจุฏูู ุชุบููู ุฃุตูู ุบูุฑ ูุงุจูุฉ ููุงุณุชุฑุฌุงุน ุญูุงุธุงู ุนูู ุงูุฌูุฏุฉ ูุงูุณูุงูุฉ.',
        },
        {
          id: 5,
          question: 'ูุตููู ููุชุฌ ุฎุงุทุฆ ุฃู ุชุงููุ ูุงุฐุง ุฃูุนูุ',
          answer: 'ุชูุงุตู ูุนูุง ุฎูุงู 48 ุณุงุนุฉ ูุงุฑูู ุตูุฑ ุงูููุชุฌุ ูุณูุฑุชูุจ ุงุณุชุจุฏุงูุงู ุฃู ุงุณุชุฑุฌุงุนุงู ูุฌุงููุงู ุญุณุจ ุงูุญุงูุฉ.',
        },
        {
          id: 6,
          question: 'ูู ูุณุชุบุฑู ุงุณุชุฑุฏุงุฏ ุงููุจูุบุ',
          answer: 'ูุชู ุงูุงุณุชุฑุฏุงุฏ ุฎูุงู 3โ7 ุฃูุงู ุนูู ุนุจุฑ ููุณ ูุณููุฉ ุงูุฏูุน ุงููุณุชุฎุฏูุฉ ูู ุงูุทูุจ.',
        },
      ],
    },
    {
      id: 3,
      title: 'ุงูุฅูุณุณูุงุฑุงุช ูุงูุฃุตุงูุฉ ูุงูุฌูุฏุฉ',
      icon: '๐ธ',
      faqs: [
        {
          id: 7,
          question: 'ูู ููุชุฌุงุชูู ุฃุตููุฉุ',
          answer: 'ุฌููุน ุฅูุณุณูุงุฑุงุชูุง ุฃุตููุฉ 100% ููุฎุชุงุฑุฉ ุจุนูุงูุฉุ ูููููุฑ ูุงุชูุฑุฉ ูุถูุงู ุนูู ุงูุฌูุฏุฉ.',
        },
        {
          id: 8,
          question: 'ูุง ุงูููุงุฏ ูุงูุฎุงูุงุช ุงููุณุชุฎุฏูุฉุ',
          answer: 'ุชุฎุชูู ุงูุฎุงูุงุช ุญุณุจ ุงูููุชุฌ: ูุนุงุฏู ูุทููุฉุ ุณุชุงููุณ ุณุชููุ ุฌูุฏ ุทุจูุนูุ ูุฃููุดุฉ ุนุงููุฉ ุงูุฌูุฏุฉ. ุฑุงุฌุน ูุตู ุงูููุชุฌ ููุชูุงุตูู.',
        },
        {
          id: 9,
          question: 'ูู ุชูุฌุฏ ุฎูุงุฑุงุช ููุงููุฉ ูููุงุก ุฃู ุฎุงููุฉ ูู ุงูููููุ',
          answer: 'ูููุฑ ููุชุฌุงุช ููุงููุฉ ูููุงุก ุฃู ุฎุงููุฉ ูู ุงููููู ุนูุฏ ุชููุฑูุง. ุฑุงุฌุน ูุตู ุงูููุชุฌ ุฃู ุชูุงุตู ูุนูุง ููุชุฃูุฏ.',
        },
      ],
    },
    {
      id: 4,
      title: 'ุงูุฏูุน ูุงูุนุฑูุถ',
      icon: '๐ณ',
      faqs: [
        {
          id: 10,
          question: 'ูุง ุทุฑู ุงูุฏูุน ุงููุชุงุญุฉุ',
          answer: 'ูููุฑ ุงูุฏูุน ุนุจุฑ ุงูุจุทุงูุงุช ุงูุจูููุฉุ Apple Payุ ุงูุชุญููู ุงูุจูููุ ููุฏ ูุชููุฑ ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู ูู ุจุนุถ ุงููุฏู.',
        },
        {
          id: 11,
          question: 'ูู ุชูุฌุฏ ุนุฑูุถ ุฃู ููุจููุงุชุ',
          answer: 'ูุนูุ ูุนูู ุนู ุงูุนุฑูุถ ูุงูููุจููุงุช ุจุดูู ุฏูุฑู. ุฃุฏุฎู ุงูููุฏ ูู ุฎุงูุฉ ุงูุฎุตู ุฃุซูุงุก ุงูุฏูุน ููุงุณุชูุงุฏุฉ ููู.',
        },
        {
          id: 12,
          question: 'ูู ุฃุญุตู ุนูู ูุงุชูุฑุฉุ',
          answer: 'ูุนูุ ุชุฑุณู ุงููุงุชูุฑุฉ ุฅููุชุฑูููุงู ูุชูุฑูู ูุน ุงูุทูุจ ุนูุฏ ุงูุญุงุฌุฉ.',
        },
      ],
    },
    {
      id: 5,
      title: 'ุงููุฏุงูุง ูุงูุชุบููู',
      icon: '๐',
      faqs: [
        {
          id: 13,
          question: 'ูู ุชูููุฑูู ุชุบููู ูุฏุงูุงุ',
          answer: 'ูููุฑ ุฎูุงุฑุงุช ุชุบููู ูุฏุงูุง ุฃูููุฉ ูุจุทุงูุงุช ุฅูุฏุงุก ูููู ุงุฎุชูุงุฑูุง ุฃุซูุงุก ุงูุฏูุน.',
        },
        {
          id: 14,
          question: 'ูู ูููู ูุชุงุจุฉ ุฑุณุงูุฉ ูุน ุงููุฏูุฉุ',
          answer: 'ุจุงูุชุฃููุฏุ ุงูุชุจ ุฑุณุงูุชู ูุณูุชู ุฅุฑูุงููุง ูุน ุงูุชุบููู.',
        },
        {
          id: 15,
          question: 'ูู ูููู ุดุญู ุงูุทูุจ ูุนููุงู ูุฎุชููุ',
          answer: 'ูุนูุ ููููู ุฅุฏุฎุงู ุนููุงู ุงููุณุชูู ุฃุซูุงุก ุฅุชูุงู ุงูุฏูุน ูุณููุฑุณู ุงููุฏูุฉ ูุจุงุดุฑุฉู.',
        },
      ],
    },
    {
      id: 6,
      title: 'ูุตุงุฆุญ ุงูุงุณุชุฎุฏุงู ูุงูุญูุธ',
      icon: 'โจ',
      faqs: [
        {
          id: 16,
          question: 'ููู ุฃุญุงูุธ ุนูู ููุนุงู ุงูุฅูุณุณูุงุฑุงุชุ',
          answer: 'ุชุฌููุจ ุงููุงุก ูุงูุนุทูุฑ ุงููุจุงุดุฑุฉุ ุฎุฒูู ุงูุฅูุณุณูุงุฑุงุช ูู ุนูุจุฉ ูุญููุฉ ูุจุนูุฏุงู ุนู ุงูุฑุทูุจุฉ.',
        },
        {
          id: 17,
          question: 'ููู ุฃุญูุธ ุงูุญูุงุฆุจ ูุงููุญุงูุธุ',
          answer: 'ุงุญูุธูุง ุจุนูุฏุงู ุนู ุงูุดูุณ ูุงูุญุฑุงุฑุฉุ ููุธูููุง ุจููุชุฌุงุช ูุฎุตุตุฉ ููุฎุงูุงุชุ ูุฎุฒูููุง ูู ุฃููุงุณ ููุงุด.',
        },
        {
          id: 18,
          question: 'ูู ุชุณุจุจ ุจุนุถ ุงูุฅูุณุณูุงุฑุงุช ุญุณุงุณูุฉุ',
          answer: 'ูุฏ ูุณุจุจ ุงููููู ุญุณุงุณูุฉ ูุฏู ุจุนุถ ุงูุฃุดุฎุงุต. ุงุฎุชุฑ ููุชุฌุงุช ุฎุงููุฉ ูู ุงููููู ูุฃุฌุฑู ุงุฎุชุจุงุฑุงู ุจุณูุทุงู ูุจู ุงูุงุณุชุฎุฏุงู.',
        },
      ],
    },
  ];

  return (
    <section className="py-10 sm:py-12 bg-white" data-section="faq">
      <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        
        {/* === ุงูุนููุงู ุงูุฑุฆูุณู โ ุฃุณูุฏุ ูุน ููุณุฉ ุจูู ูู ุงูุฎุท === */}
        <div className="text-center mb-10 sm:mb-12">
          <h2 className="text-2xl sm:text-3xl font-extrabold text-[#0A2A55]">
            {t('home.faq.frequent_questions', { defaultValue: 'ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ' })}
          </h2>
 <div className="h-1 w-24 bg-[#c18c78] rounded-full mx-auto mt-3"></div>
          <p className="text-gray-700 mt-4 max-w-3xl mx-auto leading-relaxed">
            {t('home.faq.subtitle', { 
              defaultValue: 'ุฅุฌุงุจุงุช ููุธูุฉ ุญูู ุงูุทูุจุงุช ูุงูุดุญู ูุงูุงุณุชุจุฏุงู ูุงูุฅูุณุณูุงุฑุงุช' 
            })}
          </p>
        </div>

        {/* === ุงููุฆุงุช โ ูุธููุฉุ ุจุฏูู ุญุฑูุงุชุ ูุน ููู ุจูู ุฎููู ูู ุงูุฃุณุฆูุฉ ุงูููุชูุญุฉ ููุท === */}
        <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
          {faqCategories.map((category) => (
            <div 
              key={category.id} 
              className="border border-gray-200 rounded-lg overflow-hidden shadow-sm"
            >
              {/* --- ุฑุฃุณ ุงููุฆุฉ --- */}
              <button
                onClick={() => toggleCategory(category.id)}
                className="w-full px-5 py-4 flex items-center justify-between bg-white text-left"
              >
                <div className="flex items-center gap-3">
                  <span className="text-xl">{category.icon}</span>
                  <h3 className="font-semibold text-[#0A2A55]">{category.title}</h3>
                </div>
                <ChevronDown
                  className={`w-5 h-5 text-gray-500 transition-transform ${
                    openCategory === category.id ? 'rotate-180 text-[#592a26]' : ''
                  }`}
                />
              </button>

              {/* --- ุงูุฃุณุฆูุฉ (ุฅู ูุงูุช ุงููุฆุฉ ููุชูุญุฉ) --- */}
              {openCategory === category.id && (
                <div className="border-t border-gray-100 bg-gray-50">
                  <div className="p-4 space-y-3">
                    {category.faqs.map((faq) => (
                      <div key={faq.id} className="border-b border-gray-100 last:border-0 pb-3 last:pb-0">
                        <button
                          onClick={() => toggleFAQ(faq.id)}
                          className="w-full flex justify-between items-start text-left"
                        >
                          <span className={`text-sm sm:text-base flex-1 pr-2 ${
                            openFAQ === faq.id ? 'font-semibold text-[#592a26]' : 'text-gray-800'
                          }`}>
                            {faq.question}
                          </span>
                          <div className="flex-shrink-0 ml-2">
                            {openFAQ === faq.id ? (
                              <Minus className="w-4 h-4 text-[#592a26]" />
                            ) : (
                              <Plus className="w-4 h-4 text-[#592a26]" />
                            )}
                          </div>
                        </button>

                        {openFAQ === faq.id && (
                          <div className="mt-2">
                            <p className="text-gray-700 text-sm leading-relaxed">
                              {faq.answer}
                            </p>
                          </div>
                        )}
                      </div>
                    ))}
                  </div>
                </div>
              )}
            </div>
          ))}
        </div>

      </div>
    </section>
  );
};
// === ููุงูุฉ ูุณู: ุงููููู ุงูุฑุฆูุณู ===

export default FAQSection;